"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_global-create-menu_GlobalCreateMenu_tsx"],{51848:(e,t,n)=>{let s;n.d(t,{BI:()=>m,Ti:()=>p,lA:()=>u});var a=n(70837),i=n(18679),r=n(74572),o=n(51528);let{getItem:l}=(0,r.A)("localStorage"),d="dimension_",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,s=new i.s(e)}catch(e){}function _(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(d)&&(t[e.replace(d,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,s]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))c.includes(e.toLowerCase())&&(t[e]=s);return t.staff=(0,o.X)().toString(),Object.assign(t,e)}function u(e){s?.sendPageView(_(e))}function m(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,a=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(a[e]=`${n}`);s&&(_(a),s.sendEvent(e||"unknown",_(a)))}function p(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},71312:(e,t,n)=>{n.d(t,{S:()=>o,s:()=>r});var s=n(96540),a=n(51848),i=n(31481);function r(){let e=(0,s.useContext)(i.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:n,metadata:r}=e;return{sendAnalyticsEvent:(0,s.useCallback)((e,s,i={})=>{let o={react:!0,app_name:t,category:n,...r};(0,a.BI)(e,{...o,...i,target:s})},[t,n,r])}}function o(){let{sendAnalyticsEvent:e}=r();return{sendClickAnalyticsEvent:(0,s.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},22629:(e,t,n)=>{n.d(t,{O:()=>v,r:()=>x});var s=n(74848),a=n(71312),i=n(16823),r=n(38553),o=n(89323),l=n(32799),d=n(38621),c=n(96540),_=n(75014);let u=(0,c.lazy)(()=>Promise.all([n.e("primer-react-css"),n.e("react-lib"),n.e("vendors-node_modules_dompurify_dist_purify_js"),n.e("vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da"),n.e("vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js"),n.e("vendors-node_modules_react-router-dom_dist_index_js"),n.e("vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionListEntry_js"),n.e("vendors-node_modules_github_relative-time-element_dist_index_js"),n.e("vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js-node_modul-c2760e"),n.e("vendors-node_modules_react-relay_index_js"),n.e("vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec"),n.e("vendors-node_modules_date-fns_format_mjs"),n.e("vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f"),n.e("vendors-node_modules_primer_react_lib-esm_KeybindingHint_KeybindingHint_js-node_modules_githu-3fe5e5"),n.e("vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-ec4271"),n.e("vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_date-fns_getDaysInM-dd25c8"),n.e("vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--206e8b"),n.e("ui_packages_paths_index_ts"),n.e("ui_packages_verified-fetch_verified-fetch_ts-ui_packages_item-picker_components_ItemPicker_tsx"),n.e("ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx"),n.e("ui_packages_relay-environment_relay-environment_ts-ui_packages_item-picker_components_Reposit-97e2e1"),n.e("ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx"),n.e("ui_packages_hotkey_keyboard-shortcuts-helper_ts-ui_packages_test-id-props_test-id-props_ts-ui-9ddbb8")]).then(n.bind(n,36860)));function m({label:e,analyticsLabel:t}){return{category:"SiteHeaderComponent",action:"add_dropdown",label:t||e.toLowerCase()}}function p({label:e,href:t,LeadingVisual:n,analyticsLabel:r}){let{sendClickAnalyticsEvent:o}=(0,a.S)(),l=(0,c.useCallback)(()=>{o(m({label:e,analyticsLabel:r}))},[e,r,o]);return(0,s.jsxs)(i.l.LinkItem,{href:t,onClick:l,children:[(0,s.jsx)(i.l.LeadingVisual,{children:(0,s.jsx)(n,{})}),e]})}function h({label:e,onClick:t,LeadingVisual:n,analyticsLabel:r}){let{sendClickAnalyticsEvent:o}=(0,a.S)(),l=(0,c.useCallback)(()=>{o(m({label:e,analyticsLabel:r})),t()},[e,r,o,t]);return(0,s.jsxs)(i.l.Item,{onSelect:l,children:[(0,s.jsx)(i.l.LeadingVisual,{children:(0,s.jsx)(n,{})}),e]})}function b(){return(0,s.jsx)(r.A,{size:"small"})}function g({side:e="outside-bottom",createRepo:t,importRepo:n,createOrg:a,createProject:r,createProjectUrl:l,createLegacyProject:_,createIssue:m,codespaces:g,gist:j,org:y,owner:x,repo:f,isOpen:v=!1,setIsOpen:w=()=>{},environment:C}){let[I,k]=(0,c.useState)(!1),[N,L]=(0,c.useState)(!1),[O,A]=(0,c.useState)(v);(0,c.useEffect)(()=>{v&&A(!0)},[v]);let S=I&&!N;return(0,s.jsxs)(s.Fragment,{children:[m&&O&&(0,s.jsx)(c.Suspense,{children:(0,s.jsx)(u,{isVisible:I,setIsVisible:k,setIsLoaded:L,setIsParentMenuOpen:w,owner:x,repo:f,environment:C})}),(0,s.jsx)(o.W.Overlay,{side:e,children:(0,s.jsxs)(i.l,{children:[m&&(0,s.jsx)(h,{label:"New issue",onClick:()=>(k(!0),!1),LeadingVisual:S?b:d.IssueOpenedIcon}),!1!==t&&(0,s.jsx)(p,{label:"New repository",href:"/new",LeadingVisual:d.RepoIcon}),n&&(0,s.jsx)(p,{label:"Import repository",href:"/new/import",LeadingVisual:d.RepoPushIcon}),(g||j)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.l.Divider,{}),g&&(0,s.jsx)(p,{label:"New codespace",href:"/codespaces/new",LeadingVisual:d.CodespacesIcon}),j&&(0,s.jsx)(p,{label:"New gist",href:"/gist",LeadingVisual:d.CodeIcon})]}),(a||r||_)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.l.Divider,{}),a&&(0,s.jsx)(p,{label:"New organization",href:"/account/organizations/new",LeadingVisual:d.OrganizationIcon}),r&&(0,s.jsx)(p,{label:"New project",analyticsLabel:"new project",href:l,LeadingVisual:d.ProjectIcon}),!r&&_&&(0,s.jsx)(p,{label:"New project",analyticsLabel:"new legacy project",href:"/new/project",LeadingVisual:d.ProjectIcon})]}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.l.Divider,{}),(0,s.jsx)(p,{label:`${y.addWord} someone to ${y.login}`,analyticsLabel:"invite someone",href:`/orgs/${y.login}/people#invite-member`,LeadingVisual:d.PersonAddIcon}),(0,s.jsx)(p,{label:`New team in ${y.login}`,analyticsLabel:"new team",href:`/orgs/${y.login}/new-team`,LeadingVisual:d.PeopleIcon}),(0,s.jsx)(p,{label:`New repository in ${y.login}`,analyticsLabel:"organization - new repository",href:`/organizations/${y.login}/repositories/new`,LeadingVisual:d.RepoIcon})]})]})})]})}function j(e){let{ref:t,open:n,setOpen:a}=(0,_.Mm)(e.reactPartialAnchor);return(0,s.jsx)(o.W,{anchorRef:t,open:n,onOpenChange:a,children:(0,s.jsx)(g,{...e,isOpen:n,setIsOpen:a})})}function y(e){let t=`global-create-menu-tooltip-${(0,c.useId)()}`,[n,a]=(0,c.useState)(!1);return(0,s.jsxs)(o.W,{open:n,onOpenChange:a,children:[(0,s.jsx)(l.m,{text:"Create New...",type:"label",id:t,children:(0,s.jsx)(o.W.Button,{leadingVisual:d.PlusIcon,children:""})}),(0,s.jsx)(g,{...e,isOpen:n,setIsOpen:a})]})}function x(e){return e.reactPartialAnchor?(0,s.jsx)(j,{...e,reactPartialAnchor:e.reactPartialAnchor}):(0,s.jsx)(y,{...e})}let f={"@media (min-width: 48rem)":{display:"none"}};function v(e){let[t,n]=(0,c.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.W,{open:t,onOpenChange:n,children:[(0,s.jsx)(o.W.Anchor,{children:(0,s.jsxs)(i.l.Item,{sx:f,onSelect:()=>{n(e=>!e)},children:[(0,s.jsx)(i.l.LeadingVisual,{children:(0,s.jsx)(d.PlusIcon,{})}),"Create new"]})}),(0,s.jsx)(g,{...e,isOpen:t,setIsOpen:n,side:"outside-top"})]}),(0,s.jsx)(i.l.Divider,{sx:f})]})}try{u.displayName||(u.displayName="LazyCreateIssueDialog")}catch{}try{p.displayName||(p.displayName="CreateMenuLinkItem")}catch{}try{h.displayName||(h.displayName="CreateMenuItem")}catch{}try{b.displayName||(b.displayName="MenuItemSpinner")}catch{}try{g.displayName||(g.displayName="GlobalCreateMenuOverlay")}catch{}try{j.displayName||(j.displayName="ExternallyAnchoredGlobalCreateMenu")}catch{}try{y.displayName||(y.displayName="GlobalCreateMenuWithAnchor")}catch{}try{x.displayName||(x.displayName="GlobalCreateMenu")}catch{}try{v.displayName||(v.displayName="GlobalCreateMenuItem")}catch{}}}]);
//# sourceMappingURL=ui_packages_global-create-menu_GlobalCreateMenu_tsx-5a33789bb03f.js.map