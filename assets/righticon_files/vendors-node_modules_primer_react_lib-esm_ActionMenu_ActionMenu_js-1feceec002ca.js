"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js"],{89323:(e,t,n)=>{n.d(t,{W:()=>T});var l=n(96540),r=n(38621),o=n(85349),u=n(81425);n(69676);var i=n(35357),c=n(55966);let a=(e,t,n)=>{let[r,o]=l.useState(void 0);l.useEffect(function(){let e=n.current,t=e=>{0!==e.detail&&o("mouse-click")},l=e=>{["Space","Enter","ArrowDown","ArrowUp"].includes(e.code)&&o(e.code)};return null==e||e.addEventListener("click",t),null==e||e.addEventListener("keydown",l),()=>{null==e||e.removeEventListener("click",t),null==e||e.removeEventListener("keydown",l)}},[n]),l.useEffect(function(){if(!e||!t.current)return;let l=(0,c.K1)(t.current);if("mouse-click"===r){if(n.current)n.current.focus();else throw Error("For focus management, please attach anchorRef")}else if(r&&["ArrowDown","Space","Enter"].includes(r)){let e=l.next().value;setTimeout(()=>null==e?void 0:e.focus())}else if("ArrowUp"===r){let e=[...l],t=e[e.length-1];setTimeout(()=>t.focus())}else{let e=l.next().value;setTimeout(()=>null==e?void 0:e.focus())}},[e,r,n])},s=(e,t)=>{let n=(0,u.L)(t);l.useEffect(function(){if(!e||!n.current)return;let t=n.current;[...(0,c.K1)(t)].map(e=>{var t;if(e.getAttribute("aria-keyshortcuts"))return;let n=null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase()[0];n&&e.setAttribute("aria-keyshortcuts",n)})},[e,n]),l.useEffect(function(){if(!e||!n.current)return;let t=n.current,l=e=>{var n;let l=document.activeElement;if("INPUT"===l.tagName||"TEXTAREA"===l.tagName||e.ctrlKey||e.altKey||e.metaKey||!r(e))return;e.stopPropagation();let o=e.key.toLowerCase(),u=[...(0,c.K1)(t)].filter(e=>{var t;let n=null===(t=e.getAttribute("aria-keyshortcuts"))||void 0===t?void 0:t.split(" ").map(e=>e.toLowerCase());return n&&n.includes(o)}),i=u.indexOf(l);null===(n=i===u.length-1?u[0]:u.find((e,t)=>t>i))||void 0===n||n.focus()};return t.addEventListener("keydown",l),()=>t.removeEventListener("keydown",l)},[e,n]);let r=e=>1===e.key.length&&/[a-z\d]/i.test(e.key);return{containerRef:n}},d=(e,t,n,l,r)=>{a(e,n,l),s(e,n),f(e,t,n,l),p(e,n,l),v(e,r,t,n)},f=(e,t,n,r)=>{l.useEffect(()=>{let l=n.current,o=r.current,u=n=>{e&&"Tab"===n.key&&(null==t||t("tab"))};return null==l||l.addEventListener("keydown",u),null==o||o.addEventListener("keydown",u),()=>{null==l||l.removeEventListener("keydown",u),null==o||o.removeEventListener("keydown",u)}},[e,t,n,r])},v=(e,t,n,r)=>{l.useEffect(()=>{let l=r.current,o=l=>{e&&t&&"ArrowLeft"===l.key&&(null==n||n("arrow-left"))};return null==l||l.addEventListener("keydown",o),()=>{null==l||l.removeEventListener("keydown",o)}},[e,n,r,t])},p=(e,t,n)=>{l.useEffect(()=>{let l=t.current,r=n.current,o=t=>{if(!e||!l)return;let n=(0,c.K1)(l);if("ArrowDown"===t.key){let e=n.next().value;setTimeout(()=>null==e?void 0:e.focus())}else if("ArrowUp"===t.key){let e=[...n],t=e[e.length-1];setTimeout(()=>t.focus())}};return null==r||r.addEventListener("keydown",o),()=>null==r?void 0:r.addEventListener("keydown",o)},[e,t,n])};var m=n(32947),y=n(84072),E=n(97301),k=n(55847),w=n(32799);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let b=l.createContext({renderAnchor:null,open:!1}),C=(e,t)=>{let n={...e};if("function"==typeof t.onClick){let l=e.onClick;n.onClick=e=>{var n;null===(n=t.onClick)||void 0===n||n.call(t,e),null==l||l(e)}}if("function"==typeof t.onKeyDown){let l=e.onKeyDown;n.onKeyDown=e=>{var n;null===(n=t.onKeyDown)||void 0===n||n.call(t,e),null==l||l(e)}}return n},g=({anchorRef:e,open:t,onOpenChange:n,children:r})=>{let o=(0,l.useContext)(b),[c,a]=(0,i.p)(t,n,!1),s=l.useCallback(()=>a(!0),[a]),d=l.useCallback(e=>{var t;switch(a(!1),e){case"tab":case"item-select":null===(t=o.onClose)||void 0===t||t.call(o,e)}},[a,o]),f=l.Children.toArray(r).find(e=>l.isValidElement(e)&&(e.type===L||e.type===A)),v=l.isValidElement(f)?f.props.id:void 0,p=(0,u.L)(e),y=(0,m.B)(v),E=null,k=l.Children.map(r,e=>{if(e.type===w.m){let t=e.props.children;return t.type===L&&(E=n=>{let r=l.cloneElement(t,C({...n},t.props));return l.cloneElement(e,{children:r,ref:p})}),null}if(e.type===A){let t=e.props.children;return void 0!==t&&t.type===w.m?null!==t.props.children&&(E=n=>{let r=t.props.children,o=l.cloneElement(r,C({...n},r.props)),u=l.cloneElement(t,{children:o});return l.cloneElement(e,{children:u,ref:p})}):E=t=>l.cloneElement(e,t),null}return e.type===L?(E=t=>l.cloneElement(e,C(t,e.props)),null):e});return l.createElement(b.Provider,{value:{anchorRef:p,renderAnchor:E,anchorId:y,open:c,onOpen:s,onClose:d,isSubmenu:void 0!==o.isSubmenu}},k)};g.displayName="Menu";let A=l.forwardRef(({children:e,...t},n)=>{let{onOpen:o,isSubmenu:u}=l.useContext(b),i=(0,l.useCallback)(e=>{u&&"ArrowRight"===e.key&&!e.defaultPrevented&&(null==o||o("anchor-key-press"))},[u,o]),c=(0,l.useContext)(E.d),a=(0,l.useMemo)(()=>u?{...c,defaultTrailingVisual:l.createElement(r.ChevronRightIcon,null),afterSelect:()=>null==o?void 0:o("anchor-click")}:c,[u,o,c]);return l.createElement(E.d.Provider,{value:a},l.cloneElement(e,{...t,ref:n,onClick:n=>{var l,r,o;null===(l=(r=e.props).onClick)||void 0===l||l.call(r,n),null===(o=t.onClick)||void 0===o||o.call(t,n)},onKeyDown:n=>{var l,r,o;null===(l=(r=e.props).onKeyDown)||void 0===l||l.call(r,n),i(n),null===(o=t.onKeyDown)||void 0===o||o.call(t,n)}}))}),L=l.forwardRef(({...e},t)=>l.createElement(A,{ref:t},l.createElement(k.Q,h({type:"button",trailingAction:r.TriangleDownIcon},e)))),K=({children:e,align:t="start",side:n,"aria-labelledby":r,...u})=>{let{anchorRef:i,renderAnchor:c,anchorId:a,open:s,onOpen:f,onClose:v,isSubmenu:p=!1}=l.useContext(b),m=l.useRef(null);d(s,v,m,i,p);let[y,k]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(i.current){let e=i.current.getAttribute("aria-labelledby");e&&k(e)}},[i]),l.createElement(o.T,{anchorRef:i,renderAnchor:c,anchorId:a,open:s,onOpen:f,onClose:v,align:t,side:null!=n?n:p?"outside-right":"outside-bottom",overlayProps:u,focusZoneSettings:{focusOutBehavior:"wrap"}},l.createElement("div",{ref:m},l.createElement(E.d.Provider,{value:{container:"ActionMenu",listRole:"menu",listLabelledBy:r||y||a,selectionAttribute:"aria-checked",afterSelect:()=>null==v?void 0:v("item-select"),enableFocusZone:!1}},e)))};K.displayName="Overlay",g.displayName="ActionMenu";let T=Object.assign(g,{Button:L,Anchor:A,Overlay:K,Divider:y.c})},35357:(e,t,n)=>{n.d(t,{p:()=>r});var l=n(96540);function r(e,t,n){let[r,o]=(0,l.useState)(n);return[null!=e?e:r,(0,l.useCallback)(e=>{o(e),t&&t(e)},[t])]}}}]);
//# sourceMappingURL=vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-edb6502233e8.js.map